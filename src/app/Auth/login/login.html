<head></head>
<div 
  *ngIf="errorMessage" 
  class="toast-error center">
  {{ errorMessage }}
</div>


<div class="register-container">
  

 <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 24px;">
  <h2 style="
    font-family: 'Poppins', sans-serif;
    font-size: 32px;
    font-weight: 700;
    color: #333;
    text-transform: uppercase;
    letter-spacing: 1px;
    position: relative;
    display: inline-block;
    margin: 0;
  ">
    Login
    <span style="
      position: absolute;
      left: 0;
      bottom: -6px;
      height: 4px;
      width: 100%;
      background: linear-gradient(90deg, #4b4bb4, #ff6b81);
      border-radius: 2px;
      animation: expand 2s infinite alternate;
    "></span>
  </h2>
</div>

<style>
@keyframes expand {
  from { width: 40%; }
  to { width: 100%; }
}
</style>


  <form #loginForm="ngForm" (ngSubmit)="onLogin(loginForm)" class="register-form">
    <!-- Email -->
    <div class="form-group">
      <label>Email</label>
      <input
        type="email"
        name="email"
        class="form-control"
        [(ngModel)]="loginData.email"
        required
        email
        #emailRef="ngModel"
      />
      <div *ngIf="emailRef.touched && emailRef.invalid" class="error">
        <small *ngIf="emailRef.errors?.['required']">Email is required</small>
        <small *ngIf="emailRef.errors?.['email']">Invalid email</small>
      </div>
    </div>

    <!-- Password -->
    <div class="form-group">
      <label>Password</label>
      <input
        type="password"
        name="password"
        class="form-control"
        [(ngModel)]="loginData.password"
        required
        minlength="6"
        #passwordRef="ngModel"
      />
      <div *ngIf="passwordRef.touched && passwordRef.invalid" class="error">
        <small *ngIf="passwordRef.errors?.['required']">Password is required</small>
        <small *ngIf="passwordRef.errors?.['minlength']">Min 6 characters</small>
      </div>
    </div>

   <button
  type="submit"
  [disabled]="loginForm.invalid || isLoading"
  class="btn-register"
  [ngClass]="{ disabled: loginForm.invalid || isLoading }"
>
  <span *ngIf="!isLoading">Login</span>
  <span *ngIf="isLoading" class="spinner"></span>
</button>

  </form>

  <div class="login-redirect">
  Don't have an account?
  <button class="link-button" (click)="goToRegister()">Register</button>
</div>

</div>
