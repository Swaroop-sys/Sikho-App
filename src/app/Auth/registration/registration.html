
<div 
  *ngIf="errorMessage" 
  class="toast-error center">
  {{ errorMessage }}
</div>



<div class="register-container">
  <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 24px;">
  <h2 style="
    font-family: 'Poppins', sans-serif;
    font-size: 32px;
    font-weight: 700;
    color: #333;
    text-transform: uppercase;
    letter-spacing: 1px;
    position: relative;
    display: inline-block;
    margin: 0;
  ">
    Sign Up
    <span style="
      position: absolute;
      left: 0;
      bottom: -6px;
      height: 4px;
      width: 100%;
      background: linear-gradient(90deg, #4b4bb4, #ff6b81);
      border-radius: 2px;
      animation: expand 2s infinite alternate;
    "></span>
  </h2>
</div>

<style>
@keyframes expand {
  from { width: 40%; }
  to { width: 100%; }
}
</style>


  <form #regForm="ngForm" (ngSubmit)="onRegister(regForm)" class="register-form">
    <!-- Full Name -->
    <div class="form-group">
      <label>Full Name</label>
      <input
        type="text"
        name="fullname"
        class="form-control"
        [(ngModel)]="user.fullname"
        required
        minlength="3"
        #fullNameRef="ngModel"
      />
      <div *ngIf="fullNameRef.touched && fullNameRef.invalid" class="error">
        <small *ngIf="fullNameRef.errors?.['required']">Name is required</small>
        <small *ngIf="fullNameRef.errors?.['minlength']">Min 3 characters</small>
      </div>
    </div>

    <!-- Email -->
    <div class="form-group">
      <label>Email</label>
      <input
        type="email"
        name="email"
        class="form-control"
        [(ngModel)]="user.email"
        required
        email
        #emailRef="ngModel"
      />
      <div *ngIf="emailRef.touched && emailRef.invalid" class="error">
        <small *ngIf="emailRef.errors?.['required']">Email is required</small>
        <small *ngIf="emailRef.errors?.['email']">Invalid email</small>
      </div>
    </div>

    <!-- Password -->
    <div class="form-group">
      <label>Password</label>
      <input
        type="password"
        name="password"
        class="form-control"
        [(ngModel)]="user.password"
        required
        minlength="6"
        #passwordRef="ngModel"
      />
      <div *ngIf="passwordRef.touched && passwordRef.invalid" class="error">
        <small *ngIf="passwordRef.errors?.['required']">Password is required</small>
        <small *ngIf="passwordRef.errors?.['minlength']">Min 6 characters</small>
      </div>
    </div>

    <!-- Role -->
    <div class="form-group">
      <label>Role</label>
      <select
        name="role"
        class="form-control"
        [(ngModel)]="user.role"
        required
        #roleRef="ngModel"
      >
        <option value="" disabled selected>Select role</option>
        <option value="student">STUDENT</option>
        <option value="instructor">INSTRUCTOR</option>
      </select>
      <div *ngIf="roleRef.touched && roleRef.invalid" class="error">
        <small *ngIf="roleRef.errors?.['required']">Role is required</small>
      </div>
    </div>

    <!-- Submit Button -->
    <button
      type="submit"
      [disabled]="regForm.invalid"
      class="btn-register"
      [ngClass]="{ disabled: regForm.invalid }"
    >
      Register
    </button>
  </form>
  <!-- Add this below the form -->
<div class="login-redirect">
  Already have an account?
  <button (click)="goToLogin()" class="link-button">Login</button>
</div>

</div>

